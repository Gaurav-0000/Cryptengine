<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cryptengine - Encrypt Everything. Instantly.</title>
    <link
      rel="icon"
      type="image/png"
      href="Screenshot_2025-10-30_212314-removebg-preview.png"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body onpageshow="if (event.persisted) window.location.reload();">
    <!-- Navigation Bar -->
    <nav
      class="border-b border-green-500/30 sticky top-0 z-50 backdrop-blur-md"
    >
      <div class="max-w-6xl mx-auto px-4">
        <div class="flex items-center justify-center h-16">
          <div class="flex items-center space-x-2">
            <svg
              class="w-8 h-8 text-green-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
              />
            </svg>
            <h1 class="terminal-header text-2xl">CRYPTENGINE</h1>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto px-4 py-12">
      <div class="cyber-panel rounded-lg p-8">
        <!-- Mode Selection -->
        <div class="mode-container flex justify-center mb-8">
          <div class="bg-black/50 p-1 rounded-lg border border-green-500/30">
            <button
              id="encryptBtn"
              onclick="setMode('encrypt')"
              class="cyber-button cyber-button-active px-8 py-3 rounded-md font-bold"
            >
              [ ENCRYPT ]
            </button>
            <button
              id="decryptBtn"
              onclick="setMode('decrypt')"
              class="cyber-button px-8 py-3 rounded-md font-bold"
            >
              [ DECRYPT ]
            </button>
          </div>
        </div>

        <h1
          id="pageTitle"
          class="text-3xl font-bold text-center mb-8 section-header"
          style="color: var(--cyber-green); font-family: 'Orbitron', sans-serif"
        >
          ENCRYPTION TERMINAL
        </h1>

        <div class="space-y-6">
          <!-- Passphrase + filetype/upload row -->
          <div
            class="flex flex-col sm:flex-row sm:space-x-3 space-y-3 sm:space-y-0"
          >
            <input
              type="password"
              id="passphrase"
              placeholder="ENTER PASSPHRASE"
              class="terminal-input w-full sm:w-1/2 px-4 py-3 rounded"
            />

            <select
              id="fileType"
              autocomplete="off"
              class="terminal-input w-full sm:w-1/2 px-4 py-3 rounded"
              onchange="toggleInput()"
            >
              <option value="">SELECT FILE TYPE</option>
              <option value="text">TEXT NOTE</option>
              <option value="image">IMAGE [JPG/PNG/GIF]</option>
              <option value="audio">AUDIO [WAV/MP3]</option>
              <option value="video">VIDEO [MP4]</option>
              <option value="archive">ARCHIVE [ZIP]</option>
              <option value="document">DOCUMENT [TXT/DOCX/PDF]</option>
            </select>

            <div id="decryptFileContainer" class="hidden sm:w-1/2">
              <input
                type="file"
                id="decryptFileInput"
                accept=".enc,.txt"
                class="hidden"
                onchange="handleDecryptFile(this.files)"
              />
              <div class="flex items-center space-x-3">
                <button
                  type="button"
                  onclick="document.getElementById('decryptFileInput').click()"
                  id="decryptFileBtn"
                  class="cyber-button px-6 py-3 rounded font-mono w-full sm:w-auto"
                >
                  [UPLOAD .enc / .txt]
                </button>
                <p
                  id="decryptFileLabel"
                  class="text-green-500/70 font-mono text-sm whitespace-nowrap"
                >
                  NO FILE SELECTED
                </p>
              </div>
            </div>
          </div>

          <div id="inputContainer" class="hidden">
            <textarea
              id="note"
              placeholder="Write your message here..."
              class="terminal-input w-full px-4 py-3 rounded resize-y h-48"
            ></textarea>
          </div>

          <div id="fileInputContainer" class="hidden w-full">
            <input
              type="file"
              id="fileInput"
              accept=""
              multiple
              class="hidden"
              onchange="handleFiles(this.files)"
            />
            <button
              type="button"
              onclick="document.getElementById('fileInput').click()"
              class="cyber-button px-6 py-3 rounded font-bold w-full sm:w-auto"
            >
              [ SELECT FILES ]
            </button>
            <p id="fileStatus" class="text-green-500/70 mt-2 font-mono">
              NO FILES SELECTED
            </p>
            <ul id="fileList" class="cyber-list mt-3 text-green-500"></ul>
          </div>

          <div
            id="encryptSection"
            class="flex flex-col sm:flex-row sm:space-x-4 space-y-3 sm:space-y-0 justify-center items-center"
          >
            <button
              onclick="saveNote()"
              class="cyber-button px-10 py-3 rounded font-bold w-full sm:w-auto"
            >
              [ EXECUTE ENCRYPTION ]
            </button>
          </div>

          <div id="spinner" class="spinner"></div>

          <div class="relative">
            <textarea
              id="sharedNote"
              placeholder="ENCRYPTED_DATA_BUFFER..."
              class="terminal-input w-full px-4 py-3 rounded pr-12"
              style="resize: none; overflow-y: auto; min-height: 100px"
            ></textarea>
            <button
              id="copyBtn"
              onclick="copyToClipboard()"
              class="absolute top-3 right-3 p-2 rounded cyber-button"
              title="Copy to clipboard"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                />
              </svg>
            </button>
          </div>

          <div id="decryptSection" class="flex justify-center">
            <button
              onclick="loadSharedNote()"
              class="cyber-button px-10 py-3 rounded font-bold w-full sm:w-auto"
            >
              [ DECRYPT DATA ]
            </button>
          </div>

          <p
            id="status"
            class="text-center font-mono text-lg text-[#00ff41]"
          ></p>
          <div id="outputContainer" class="text-center"></div>
        </div>
      </div>

      <!-- History Section -->
      <div class="cyber-panel rounded-lg p-8 mt-8">
        <h2
          class="text-2xl font-bold mb-6 section-header"
          style="color: var(--cyber-green); font-family: 'Orbitron', sans-serif"
        >
          ENCRYPTION HISTORY [UPTO LAST 5 ENCRYPTIONS]
        </h2>
        <ul id="historyList" class="cyber-list text-green-500"></ul>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>



